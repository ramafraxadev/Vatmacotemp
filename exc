import { mount } from '@vue/test-utils'
import { describe, it, expect, beforeEach } from 'vitest'
import mckitui from 'mc-kit-ui/src/plugins/mc-kit-ui'

import DocumentDasboardExportList from '../DocumentDasboardExportList.vue'

describe('DocumentDasboardExportList.vue', () => {
  let wrapper = null

  beforeEach(() => {
    wrapper = mount(DocumentDasboardExportList, {
      global: {
        plugins: [
          mckitui,
        ],
      },
      props: {
        documentDasboardExportListTotal: 5,
      },
    })
  })

  it('afficher le nombre total des exports et le mot "exports"', () => {
    const titreWrapper = wrapper.findComponent('[test-id="test_ddelh"]')
    expect(titreWrapper.exists()).toBeTruthy()  

    const titres = titreWrapper.findAll('heading_3')
    expect(titres).toHaveLength(2)
    expect(titres[0].text()).toContain('5')
    expect(titres[1].text()).toContain('exports')
  })
})
